(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5194:(e,r,t)=>{"use strict";t.d(r,{SolidityErrorFinder:()=>c});var a=t(5155),s=t(2115);async function n(e){try{if(!e||"string"!=typeof e)throw Error("Invalid Solidity code provided");try{return function(e){let r,t=[],a=/error\s+([A-Za-z0-9_]+)\s*\(([^)]*)\)/g;for(;null!==(r=a.exec(e));){let e=r[1],a=r[2].trim(),s=a?a.split(",").map(e=>{let r=e.trim().split(/\s+/);return{type:r[0]||"",name:r[1]||""}}):[],n="".concat(e,"(").concat(s.map(e=>e.type).join(","),")");t.push({name:e,params:s,signature:n,selector:""})}return t}(e)}catch(n){console.warn("Simple extractor failed, falling back to parser:",n);let r=await Promise.all([t.e(729),t.e(861),t.e(275)]).then(t.t.bind(t,4616,23)),a=r.parse(e,{tolerant:!0}),s=[];return r.visit(a,{ErrorDefinition:e=>{try{if(!Array.isArray(e.parameters))return void console.warn("node.parameters is not an array:",e.parameters);let r=e.parameters.map(e=>e&&e.typeName?{type:function e(r){if(!r)return"";if("string"==typeof r.name)return r.name;if("ArrayTypeName"===r.type){let t=e(r.baseTypeName);return"".concat(t,"[]")}if("UserDefinedTypeName"===r.type)return r.namePath||"";if("ElementaryTypeName"===r.type)return r.name||"";if("Mapping"===r.type){let t=e(r.keyType),a=e(r.valueType);return"mapping(".concat(t," => ").concat(a,")")}if("FunctionTypeName"===r.type)return"function";if("TupleTypeName"===r.type){let t=Array.isArray(r.components)?r.components.map(r=>e(r)).join(","):"";return"tuple(".concat(t,")")}return r.type||""}(e.typeName),name:e.name||""}:{type:"",name:(null==e?void 0:e.name)||""}),t=function(e,r){let t=Array.isArray(r)?r.map(e=>e.type).filter(Boolean).join(","):"";return"".concat(e,"(").concat(t,")")}(e.name,r);s.push({name:e.name,params:r,signature:t,selector:""})}catch(e){console.error("Error processing node:",e)}}}),s}}catch(e){return console.error("Error parsing Solidity code:",e),[]}}var l=t(1364),o=t(167);function i(e){try{return l.S(o.YW(e)).substring(0,10)}catch(e){throw console.error("Error calculating selector:",e),Error("Failed to calculate selector: ".concat(e.message))}}function d(e){let{code:r,highlightError:t,maxLines:n=25,contextLines:l=5}=e,[o,i]=(0,s.useState)(!1),d=/\b(contract|error|function|address|uint256|string|bytes|bool|if|else|for|while|struct|mapping|public|private|external|internal|pure|view|returns|memory|storage|calldata|payable|modifier|import|pragma|solidity|interface)\b/g,c=/\/\/.*?$|\/\*[\s\S]*?\*\//gm,g=/"(?:[^"\\]|\\.)*"/g,m=/\b\d+\b/g,x=/error\s+([A-Za-z0-9_]+)/g;(0,s.useEffect)(()=>{i(!1)},[r]);let p=[...r.matchAll(/error\s+([A-Za-z0-9_]+)\s*\([^)]*\)/g)].map(e=>({name:e[1],fullMatch:e[0],index:e.index||0})),h=r.split("\n"),u=!o&&h.length>n,y="";if(u)if(t){let e=p.find(e=>e.name===t);if(e){let t=r.substring(0,e.index).split("\n").length-1,a=Math.max(0,t-l),s=Math.min(h.length,t+l+1);y=[...h.slice(0,5),"/* ... */",...h.slice(a,s),"/* ... */"].join("\n")}else y=[...h.slice(0,n),"/* ... */"].join("\n")}else if(p.length>0){let e=[],t=new Set;for(let e=0;e<5&&e<h.length;e++)t.add(e);p.slice(0,5).forEach((a,s)=>{let n=r.substring(0,a.index).split("\n").length-1,o=Math.max(0,n-l),i=Math.min(h.length,n+l+1);s>0&&e.push("/* ... */");for(let r=o;r<i;r++)t.has(r)||(e.push(h[r]),t.add(r))}),y=[...Array.from(t).filter(e=>e<5).map(e=>h[e]),"/* ... */",...e,"/* ... */"].join("\n")}else y=[...h.slice(0,n),"/* ... */"].join("\n");else y=r;let f=y.replace(/\n/g,"<br />").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&lt;br \/&gt;/g,"<br />");return f=(e=>{let r=[],t=e.match(c);t&&t.forEach(e=>{r.push({pattern:e,className:"text-gray-500 dark:text-gray-400"})});let a=e.match(g);a&&a.forEach(e=>{r.push({pattern:e,className:"text-green-600 dark:text-green-400"})});let s=e,n={};return r.forEach((e,r)=>{let t="__PLACEHOLDER_".concat(r,"__");n[t]='<span class="'.concat(e.className,'">').concat(e.pattern,"</span>"),s=s.replace(e.pattern,t)}),s=s.replace(d,e=>'<span class="text-purple-600 dark:text-purple-400 font-medium">'.concat(e,"</span>")).replace(m,e=>'<span class="text-blue-600 dark:text-blue-400">'.concat(e,"</span>")).replace(x,(e,r)=>'<span class="text-purple-600 dark:text-purple-400 font-medium">error</span> <span class="text-yellow-600 dark:text-yellow-400">'.concat(r,"</span>")),Object.entries(n).forEach(e=>{let[r,t]=e;s=s.replace(r,t)}),s=s.replace(/\/\* \.\.\. \*\//g,'<span class="block py-1 border-t border-b border-gray-300 dark:border-gray-600 my-1 text-center text-gray-500 dark:text-gray-400">...</span>')})(f),t&&(f=((e,r)=>{if(!r)return e;let t=RegExp("(error\\s+".concat(r,"\\s*\\([^)]*\\))"),"g");return e.replace(t,e=>'<span class="bg-yellow-200 dark:bg-yellow-900 px-1 rounded">'.concat(e,"</span>"))})(f,t)),(0,a.jsxs)("div",{className:"rounded-md overflow-hidden",children:[(0,a.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 overflow-x-auto text-sm font-mono text-gray-800 dark:text-gray-200",children:(0,a.jsx)("code",{dangerouslySetInnerHTML:{__html:f}})}),h.length>n&&(0,a.jsx)("div",{className:"flex justify-end mt-2",children:(0,a.jsx)("button",{onClick:()=>i(!o),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium",children:o?"Show Less":"Show All (".concat(h.length," lines)")})})]})}function c(){let[e,r]=(0,s.useState)(""),[t,l]=(0,s.useState)(""),[o,c]=(0,s.useState)([]),[g,m]=(0,s.useState)(null),[x,p]=(0,s.useState)(!1),[h,u]=(0,s.useState)(""),[y,f]=(0,s.useState)(!1),[b,k]=(0,s.useState)(!1),j=async e=>{p(!0),u("");try{let r=await n(e),a=(Array.isArray(r)?r:[]).map(e=>(e.selector||(e.selector=i(e.signature)),e));c(a),p(!1),t&&N(a,t)}catch(e){console.error("Error parsing:",e),p(!1),c([]),u("Error parsing Solidity code: ".concat(e.message))}},N=(e,r)=>{u(""),m(null);try{let t=v(r);if(!t)return void u("Invalid selector format. Should be a 4-byte hex string (0x followed by 8 hex characters).");if(!Array.isArray(e))return void u("Invalid errors data structure");let a=Array.isArray(e)?e.map(e=>(e.selector||(e.selector=i(e.signature)),e)).find(e=>e.selector.toLowerCase()===t.toLowerCase())||null:(console.error("Expected errors to be an array, but got:",typeof e),null);a&&m(a)}catch(e){console.error("Error finding match:",e),u("Error finding match: ".concat(e.message))}},v=e=>/^0x[0-9a-fA-F]{8}$/.test(e)?e:null;return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Step 1: Upload a Solidity file or paste code"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload .sol file"}),(0,a.jsx)("input",{type:"file",accept:".sol",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(!a)return;let s=new FileReader;s.onload=e=>{var t;let a=null==(t=e.target)?void 0:t.result;r(a),j(a)},s.readAsText(a)},className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Or paste Solidity code"}),(0,a.jsx)("textarea",{value:e,onChange:e=>{let t=e.target.value;r(t),t.trim()?j(t):(c([]),m(null))},className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white min-h-[200px]",placeholder:"// Paste your Solidity code here..."})]}),h&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded-md",children:h}),e&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>k(!b),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:b?"Hide Highlighted Code":"Show Highlighted Code"}),b&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(d,{code:e,highlightError:g?g.name:void 0,maxLines:20,contextLines:10})})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Step 2: Enter 4-byte error selector"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Error selector (4 bytes)"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>{let r=e.target.value.startsWith("0x")?e.target.value:"0x".concat(e.target.value);l(r),r.length>=10&&o.length>0?N(o,r):m(null)},className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"0x12345678"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Format: 0x followed by 8 hex characters (e.g., 0xabcdef12)"})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Results"}),x?(0,a.jsx)("div",{className:"flex justify-center items-center py-6",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-500"})}):o.length>0?(0,a.jsxs)("div",{className:"space-y-6",children:[g?(0,a.jsxs)("div",{className:"p-4 bg-green-100 dark:bg-green-900 rounded-md",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-800 dark:text-green-200",children:"Match found!"}),(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Error Name:"})," ",(0,a.jsx)("code",{className:"px-2 py-1 bg-green-200 dark:bg-green-800 rounded",children:g.name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Error Signature:"})," ",(0,a.jsx)("code",{className:"px-2 py-1 bg-green-200 dark:bg-green-800 rounded",children:g.signature})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Selector:"})," ",(0,a.jsx)("code",{className:"px-2 py-1 bg-green-200 dark:bg-green-800 rounded",children:g.selector})]})]})]}):t.length>=10?(0,a.jsx)("div",{className:"p-4 bg-yellow-100 dark:bg-yellow-900 rounded-md",children:(0,a.jsxs)("p",{className:"text-yellow-800 dark:text-yellow-200",children:["No matching error found for selector ",t,"."]})}):null,(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["All Errors Found (",o.length,")"]}),(0,a.jsx)("button",{type:"button",onClick:()=>f(!y),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:y?"Hide":"Show All"})]}),y&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Signature"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Selector"})]})}),(0,a.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:o.map((e,r)=>(0,a.jsxs)("tr",{className:g&&g.selector===e.selector?"bg-green-50 dark:bg-green-900":"",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.signature}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.selector})]},r))})]})})]})]}):e?(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No errors found in the provided Solidity code."}):(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Please upload a Solidity file or paste code to get started."})]})]})}},8844:(e,r,t)=>{Promise.resolve().then(t.bind(t,5194))}},e=>{var r=r=>e(e.s=r);e.O(0,[218,441,684,358],()=>r(8844)),_N_E=e.O()}]);